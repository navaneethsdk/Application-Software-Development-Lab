#------Employee Table--------
CREATE TABLE EMPLOYEE (
 Ssn INTEGER AUTO_INCREMENT, 
 Fname VARCHAR(20) NOT NULL,
 Minit VARCHAR(20),
 Lname VARCHAR(20) NOT NULL,
 Bdate DATE,
 Address VARCHAR(20) NOT NULL,
 Salary INTEGER NOT NULL,
 Dno INTEGER,
 Super_ssn INTEGER,
 Sex CHAR(1),
 PRIMARY KEY (Ssn)
);

ALTER TABLE EMPLOYEE 
 ADD FOREIGN KEY (Super_ssn) REFERENCES EMPLOYEE(Ssn);

#------Creating DEPARTMENT Table------
CREATE TABLE DEPARTMENT (
 Dnumber INTEGER AUTO_INCREMENT,
 Dname VARCHAR(20),
 Mgr_ssn INTEGER, 
 Mgr_start_date DATE,
 PRIMARY KEY (Dnumber),
 FOREIGN KEY (Mgr_ssn) REFERENCES EMPLOYEE(Ssn) ON DELETE CASCADE
);

ALTER TABLE EMPLOYEE 
 ADD FOREIGN KEY (Dno) REFERENCES DEPARTMENT(Dnumber);

#------Creating DEP_LOCATION Table------
CREATE TABLE DEP_LOCATION (
 Dnumber INTEGER,
 DLocation VARCHAR(20),
 PRIMARY KEY (Dnumber,DLocation),
 FOREIGN KEY (Dnumber) REFERENCES DEPARTMENT(Dnumber)
);

#------Creating PROJECT Table------
CREATE TABLE PROJECT (
 Pnumber INTEGER AUTO_INCREMENT,
 Pname VARCHAR(20),
 Plocation VARCHAR(32),
 Dnum INTEGER, 
 PRIMARY KEY (Pnumber),
 FOREIGN KEY (Dnum) REFERENCES DEPARTMENT(Dnumber)
);

#------Creating WORKS_ON Table------                          
CREATE TABLE WORKS_ON (
 Essn INTEGER,
 Pno INTEGER,
 Hours INTEGER,
 PRIMARY KEY (Essn,Pno),
 FOREIGN KEY (Essn) REFERENCES EMPLOYEE(Ssn),
 FOREIGN KEY (Pno) REFERENCES PROJECT(Pnumber) 
);

#------Creating DEPENDENT Table------
CREATE TABLE DEPENDENT (
 Essn INTEGER, 
 Dependent_name VARCHAR(20) NOT NULL,
 Bdate DATE,
 Relationship VARCHAR(20),
 sex CHAR(1),
 PRIMARY KEY (Essn, Dependent_name),
 FOREIGN KEY (Essn) REFERENCES EMPLOYEE(Ssn) 
);

DESCRIBE EMPLOYEE;
DESCRIBE DEPARTMENT;
DESCRIBE DEP_LOCATION;
DESCRIBE PROJECT;
DESCRIBE WORKS_ON;
DESCRIBE DEPENDENT;


